<!DOCTYPE html>
<html lang="en">

<head>
	<title>Javascript/AJAX Programming (CIS114) Homework #8</title>
	<meta charset="UTF-8">
	<meta name="description" content="Javascript/AJAX Programming (CIS114) homework #8">
	<link rel="stylesheet" href="styles.css">
</head>

<body>
	<h1>Homework #8 - AJAX Application</h1>

	<button type="button" onclick="loadDoc()">Get CD collection</button>
	<br><br>
	<table id="demo"></table>

	<script>
		function loadDoc() {
			const xhttp = new XMLHttpRequest();
			xhttp.onload = function() {
				myFunction(this);
			}

			xhttp.open("GET", "cd_catalog.xml");
			xhttp.send();
		}

		function myFunction(xml) {
			const xmlDoc = xml.responseXML;
			const x = xmlDoc.getElementsByTagName("CD");
			let table="<tr><th>Artist</th><th>Title</th><th>Year</th></tr>";

			for (let i = 0; i <x.length; i++) {
				table += "<tr><td>" +
				x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
				"</td><td>" +
				x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
				"</td></tr>" +
				x[i].getElementsByTagName("YEAR")[0].childNodes[0].nodeValue +
				"</td></tr>";
			}

			document.getElementById("demo").innerHTML = table;
		}
	</script>

	<h2>Explanation of AJAX</h2>
	<p>
		The call to new XMLHttpRequest instantiate an instance of XMLHttpRequest which is used to exchange data with a web server behind the scenes.
		This means that it is possible to update parts of a web page, without reloading the whole page. The call to XMLHttpRequest.onload() is used to
		define a callback function (myFunction) to be executed when the HTTP request (XMLHttpRequest) receives a response. The call to XMLHttpRequest.open
		is used to initialize the HTTP request (XMLHttpRequest) or re-initialize an existing HTTP request. The call to XMLHttpRequest.send is used to
		send an HTTP request to the web server.
	</p>
	<p>
		XMLHttpRequest.open() and send(), initializes the XMLHttpRequest object then sends a GET request for the cd_catalog.xml.  When this receives the
		response, it will trigger or call the callback function myFunction registered using the XMLHttpRequest.onload() and display the content of the
		cd_catalog.xml.
	</p>
	<h2>REST API</h2>
	<p>
		Football (Soccer) Prediction is a REST API that offers predictions for upcoming soccer matches, odds and performance statistics.  Soccer fans can
		utilize this API to get an idea of the standing and the strength of soccer teams for the upcoming games.  The API request is in URI Query String/CRUD
		format and the response is in JSON format. The API requires an API key to access it. It has four (4) types of subscription, Basic (FREE), PRO ($14.99), ULTRA
		($29.99), and MEGA ($49.99)
	</p>
	<p>
		<a href="https://boggio-analytics.com/fp-api/?ref=apilist.fun">Please refer to the link for the Football (Soccer) Prediction website.</a>
	</p>
	<p>
		<a href="https://rapidapi.com/boggio-analytics/api/football-prediction/details">Click the link to give it a try!</a>
	</p>


	<br><br>
	<a href="./index.html">Home</a>
</body>
</html>